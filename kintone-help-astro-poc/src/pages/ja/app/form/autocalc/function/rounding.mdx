---
title: "四捨五入、切り捨て、切り上げするときの設定の使い分け"
weight: 500
aliases:
  - "/ja/id/040508"
layout: "@/layouts/PageLayout.astro"
---

import Heading from "@/components/Heading.astro";
import Img from "@/components/Img.astro";
import Note from "@/components/Note.astro";
import Reference from "@/components/Reference.astro";


数値や計算結果の端数処理をする場合、次の3つの方法があります。

* [計算式にROUND関数、ROUNDDOWN関数、ROUNDUP関数を設定する](#autocalc_rounding_10)  
  入力されたデータ自体を四捨五入、切り捨て、切り上げします。
* [計算フィールドおよび数値フィールドの設定ダイアログで「小数点以下の表示桁数」を設定する](#autocalc_rounding_20)  
  アプリの表示上でのみ、数値を切り捨てします。
* [「高度な設定」の「数値と計算の精度」を設定する](#autocalc_rounding_30)  
  そのアプリ内のすべての数値に対して、桁数と丸めかたを設定します。

<Note>

ROUND関数や「小数点以下の表示桁数」の設定よりも、「高度な設定」の内容が優先されます。  
ROUND関数や「小数点以下の表示桁数」を設定しても数値や計算が正しくないときは、「高度な設定」の「小数部の桁数」や「丸めかた」の設定を確認してください。

</Note>

上記3つの使い分けについて、詳細を説明します。

<Heading id="autocalc_rounding_10">ROUND関数、ROUNDDOWN関数、ROUNDUP関数</Heading>

<Img src="/k/kintone/img-ja/round_function_01.png" alt="スクリーンショット：ROUND関数" />
計算式にROUND関数（四捨五入）、ROUNDDOWN関数（切り捨て）、ROUNDUP関数（切り上げ）を設定できます。  
入力されたデータ自体を四捨五入、切り捨て、切り上げするため、アプリに表示されている数値と、ファイルに書き出した時の数値は同じです。  
計算結果を四捨五入、切り捨て、切り上げしたい場合は、計算フィールドか文字列（1行）フィールドにROUND関数、ROUNDDOWN関数、またはROUNDUP関数を設定してください。  
設定方法は「[[ROUND関数]数値を四捨五入、切り上げ、切り捨てする](/k/ja/id/040507.html)」で説明しています。

<Heading id="autocalc_rounding_20">小数点以下の表示桁数</Heading>

<Img src="/k/kintone/img-ja/rounding_03.png" alt="スクリーンショット：小数点以下の表示桁数" />

数値フィールドまたは計算フィールドの設定ダイアログで「小数点以下の表示桁数」を設定すると、そのフィールドに入力された数値の桁数よりあとの桁数を「切り捨て」します。  
たとえば「小数点以下の表示桁数」に「2」を設定した場合、小数点第3位以降を切り捨てします。  
計算式にROUNDDOWN関数を指定したときと同様の結果になりますが、「小数点以下の表示桁数」では数値のデータ自体は変えずに、表示上だけの変更となります。そのため、ファイルに書き出したときは、入力データのままの数値になります。

<Heading id="autocalc_rounding_30">数値と計算の精度</Heading>

<Img src="/k/kintone/img-ja/rounding_02.png" alt="スクリーンショット：数値と計算の精度の設定" />
アプリの「高度な設定」画面内にある「数値と計算の精度」は、そのアプリ内のすべての数値に設定が反映されます。すべての数値とは、数値フィールドに入力された数値、計算式内の数値、計算結果を指します。  
また、表示上の数値だけではなく、実際のデータも丸められた数値で保存されます。  
基本的には、初期設定のまま利用してください。

初期設定とその用途は次の通りです。

* 全体の桁数：16  
  小数点以下まで含めた数値の桁数を設定します。30までの整数で指定します。
* 小数部の桁数：4  
  数値の小数点以下の桁数を設定します。10までの整数で指定します。
* 丸めかた：最近接偶数への丸め  
  数値の端数処理の方法を選択できます。

「最近接偶数への丸め」とは、「端数が0.5より小さい場合は切り捨て、端数が0.5より大きい場合は切り上げ、端数がちょうど0.5の場合は切り捨てと切り上げのうち結果が偶数となるほうへ丸める」という処理のことです。  
「四捨五入」と「最近接偶数への丸め」の違いは、端数がちょうど0.5になるときです。切り捨てと切り上げのうち、結果が偶数になる方に丸められます。  
実際の数値の例で説明します。

<table>
 <caption>四捨五入と最近接偶数への丸めの違い</caption>
    <thead>
        <tr>
            <th>数値</th>
            <th>四捨五入</th>
            <th>最近接偶数への丸め</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>0.5</td>
            <td>1</td>
            <td>0</td>
        </tr>
        <tr>
            <td>1.5</td>
            <td>2</td>
            <td>2</td>
        </tr>
        <tr>
            <td>2.5</td>
            <td>3</td>
            <td>2</td>
        </tr>
        <tr>
            <td>3.5</td>
            <td>4</td>
            <td>4</td>
        </tr>
        <tr>
            <td>4.5</td>
            <td>5</td>
            <td>4</td>
        </tr>
        <tr>
            <td>5.5</td>
            <td>6</td>
            <td>6</td>
        </tr>
        <tr>
            <td>6.5</td>
            <td>7</td>
            <td>6</td>
        </tr>
    </tbody>
</table>

「数値と計算の精度」は、桁数の大きな数値や、小数点以下の多い細かい数値を扱う場合に適した設定です。アプリに入力した複数の数値を、桁数や小数点以下を含めてすべて同じように処理したい場合に利用してください。

<Reference>

[数値の有効桁数と丸めかたを設定する](/k/ja/id/040482.html)

</Reference>
