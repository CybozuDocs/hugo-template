---
title: "演算子と関数の使用例"
weight: 300
aliases:
  - "/ja/id/040503"
layout: "@/layouts/PageLayout.astro"
---

import Enabled from "@/components/Enabled.astro";
import Heading from "@/components/Heading.astro";
import Note from "@/components/Note.astro";


このページでは、演算子と関数を使った使用例を説明します。  
計算式で利用できる演算子と関数の詳細は「[演算子と関数の一覧](/k/ja/id/040499.html)」を参照してください。

<Heading id="autocalc_example_operators_10">演算子と関数の使用方法</Heading>

<table>
  <thead>
    <tr>
      <th colspan="1" rowspan="2">演算子/関数</th>
      <th colspan="1" rowspan="2">計算式の例</th>
      <th colspan="1" rowspan="2">計算結果の例</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>+</td>
      <td>3+2</td>
      <td>5</td>
    </tr>
    <tr>
      <td>-</td>
      <td>3-2</td>
      <td>1</td>
    </tr>
    <tr>
      <td>&#42;</td>
      <td>3&#42;2</td>
      <td>6</td>
    </tr>
    <tr>
      <td>/</td>
      <td>3/2</td>
      <td>1.5</td>
    </tr>
    <tr>
      <td>^</td>
      <td>3^2</td>
      <td>9</td>
    </tr>
    <tr>
      <td>&amp;</td>
      <td>佐藤&amp;昇</td>
      <td>佐藤昇</td>
    </tr>
    <tr>
      <td>=</td>
      <td>IF(A=100,B,C)</td>
      <td>Aに100、Bに10、Cに5を入れた場合：10</td>
    </tr>
    <tr>
      <td>!=</td>
      <td>IF(A!=100,B,C)</td>
      <td>Aに100、Bに10、Cに5を入れた場合：5</td>
    </tr>
    <tr>
      <td>&lt;&gt;</td>
      <td>IF(A&lt;&gt;100,B,C)</td>
      <td>Aに100、Bに10、Cに5を入れた場合：5</td>
    </tr>
    <tr>
      <td>&lt;</td>
      <td>IF(A&lt;100,B,C)</td>
      <td>Aに100、Bに10、Cに5を入れた場合：5</td>
    </tr>
    <tr>
      <td>&lt;=</td>
      <td>IF(A&lt;=100,B,C)</td>
      <td>Aに100、Bに10、Cに5を入れた場合：10</td>
    </tr>
    <tr>
      <td>&gt;</td>
      <td>IF(A&gt;100,B,C)</td>
      <td>Aに100、Bに10、Cに5を入れた場合：5</td>
    </tr>
    <tr>
      <td>&gt;=</td>
      <td>IF(A&gt;=100,B,C)</td>
      <td>Aに100、Bに10、Cに5を入れた場合：10</td>
    </tr>
    <tr>
      <td>SUM</td>
      <td>SUM(1, 2, 3)</td>
      <td>6</td>
    </tr>
    <tr>
      <td>YEN</td>
      <td>YEN(1100.5, 0)</td>
      <td>\1,101</td>
    </tr>
    <tr>
      <td>DATE_FORMAT</td>
      <td>DATE_FORMAT(1522972800, &quot;YYYY年M月d日&quot;, &quot;system&quot;)</td>
      <td>2018年4月6日</td>
    </tr>
    <tr>
      <td>IF</td>
      <td>IF(A&lt;100,B,C)</td>
      <td>Aの値が90の場合は結果がB、Aの値が110の場合は結果がC</td>
    </tr>
    <tr>
      <td>AND</td>
      <td>IF(AND(A>10,B>=10),"1","0")</td>
      <td>AとBの値が10の場合：0</td>
    </tr>
    <tr>
      <td>OR</td>
      <td>IF(OR(A>10,B>=10),"1","0")</td>
      <td>AとBの値が10の場合：1</td>
    </tr>
    <tr>
      <td>NOT</td>
      <td>IF(NOT(A>10),"1","0")</td>
      <td>Aの値が10の場合：1</td>
    </tr>
    <tr>
      <td>CONTAINS</td>
      <td>IF(CONTAINS(出勤曜日, "日曜日"), "日曜出勤あり", "日曜出勤なし")</td>
      <td>日曜日にチェックがある場合は「日曜出勤あり」、チェックがない場合は「日曜出勤なし」</td>
    </tr>
    <tr>
      <td>ROUND</td>
      <td>ROUND(A * 1.1)</td>
      <td>Aの値が8,875の場合：9,763</td>
    </tr>
    <tr>
      <td>ROUNDDOWN</td>
      <td>ROUNDDOWN(A * 1.1)</td>
      <td>Aの値が8,875の場合：9,762</td>
    </tr>
    <tr>
      <td>ROUNDUP</td>
      <td>ROUNDUP(A * 1.1)</td>
      <td>Aの値が8,875の場合：9,763</td>
    </tr>
  </tbody>
</table>

<Heading id="autocalc_example_operators_20">数値の計算</Heading>

「計算」フィールド、または「文字列（1行）」フィールドを使用して、数値を計算します。  
「フィールドA」は、フィールドコードが「フィールドA」であるフィールドの値を表し、「フィールドB」は、フィールドコードが「フィールドB」であるフィールドの値を表します。

<Note>

* 「文字列（1行）」フィールドを使用した計算結果は、文字列として扱われます。   
  計算結果が「1」などの数字の場合でも、その計算結果を数値として扱うことはできません。

</Note>

<table width="90%">
  <tbody>
    <tr>
      <td>
        <b>和を計算：フィールドA + フィールドB</b><br /><br />
        フィールドAが「1」、フィールドBが「2」の場合、計算結果は「3」となります。
      </td>
    </tr>
  </tbody>
</table>

<table width="90%">
  <tbody>
    <tr>
      <td>
        <b> ( )を使った計算：(フィールドA - 1000) * 2</b><br /><br />
        フィールドAが「1,500」の場合、計算結果は「1,000」となります。
      </td>
    </tr>
  </tbody>
</table>

<table width="90%">
  <tbody>
    <tr>
      <td>
        <b>* と + の組み合わせ：フィールドA*5 + フィールドB*10</b><br /><br />
        フィールドAが「20」、フィールドBが「10」の場合、計算結果は「200」となります。
      </td>
    </tr>
  </tbody>
</table>

<Heading id="autocalc_example_operators_30">テーブルの合計</Heading>

フォームに次のようなテーブルがあるとします。

<table style="width: 458px; height: 149px">
  <thead>
    <tr>
      <th scope="col">商品名</th>
      <th scope="col">単価</th>
      <th scope="col">個数</th>
      <th scope="col">小計</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>USBメモリー</td>
      <td style="text-align: right">1,500</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right">1,500</td>
    </tr>
    <tr>
      <td>ボールペン</td>
      <td style="text-align: right">70</td>
      <td style="text-align: right">5</td>
      <td style="text-align: right">350</td>
    </tr>
    <tr>
      <td>LANケーブル</td>
      <td style="text-align: right">350</td>
      <td style="text-align: right">2</td>
      <td style="text-align: right">700</td>
    </tr>
    <tr>
      <td>モジュールタップ</td>
      <td style="text-align: right">150</td>
      <td style="text-align: right">1</td>
      <td style="text-align: right">150</td>
    </tr>
    <tr>
      <td>A5ノート</td>
      <td style="text-align: right">50</td>
      <td style="text-align: right">10</td>
      <td style="text-align: right">500</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td style="text-align: right">&nbsp;</td>
      <td style="text-align: right">&nbsp;</td>
      <td style="text-align: right">（合計を計算）</td>
    </tr>
  </tbody>
</table>

「小計」フィールドのフィールドコードが「フィールドA」の場合、次の式で、小計の合計を計算できます。なお、単価や個数に空欄がある場合でも計算が可能です。

<table width="90%">
  <tbody>
    <tr>
      <td>
        <b>計算式：SUM(フィールドA)</b><br /><br />
        計算結果は「3,200」になります。
      </td>
    </tr>
  </tbody>
</table>

詳細は「[テーブル内のフィールドを計算する](/k/ja/id/040510.html)」で説明しています。

<Heading id="autocalc_example_operators_40">日付・時間の計算</Heading>

「計算」フィールドを使用して、次の計算ができます。

* 日時の差分の計算
* 日時と時間の足し算、および引き算

計算式には、時間を秒単位で入力します。たとえば、1時間は「3600」、または「60\*60\*1」のように入力します。1日であれば、「24\*60\*60\*1」のように入力します。

<table width="90%">
  <tbody>
    <tr>
      <td>
        <b>秒単位で計算：フィールドA + (60 * 60 * 1)</b><br /><br />
        フィールドAが「2014-01-01 09:00」の場合、計算結果は「2014-01-01 10:00」になります。<br />
        フィールドの表示形式を「日時（例：2012-08-06 2:03）」に設定している場合の計算結果です。
      </td>
    </tr>
  </tbody>
</table>

<table width="90%">
  <tbody>
    <tr>
      <td>
        <b>表示形式を時間で設定：フィールドA - フィールドB</b><br /><br />
        フィールドAが「2014-01-01 09:00」、フィールドBが「2014-01-01 08:00」の場合、計算結果は「1時間0分」になります。<br />
        フィールドの表示形式を「時間（例：26時間3分）」に設定している場合の計算結果です。
      </td>
    </tr>
  </tbody>
</table>

<Enabled regions={["JP"]}>

<Note>

* 次の計算は、JavaScriptでカスタマイズすることで、実現可能です。
  * ユーザーの年齢
  * [経過年数を表示する](https://cybozu.dev/ja/kintone/tips/development/customize/date-format/display-elapsed-years/)（日本語のみ）

* 日時フィールド、作成日時フィールド、または更新日時フィールドの計算結果を日付形式で表示する場合、計算結果はUTC（協定世界時）で表示されます。JST（日本標準時）の日付を表示する場合は、+9時間（60\*60\*9=32,400秒）を計算式に足す必要があります。

</Note>

</Enabled>

詳細は「[日付、時刻、日時の計算](/k/ja/id/040502.html)」で説明しています。

<Heading id="autocalc_example_operators_50">文字列の操作</Heading>

「文字列（1行）」フィールドを使用して、文字列の結合やYEN関数の表示します。

<table width="90%">
  <tbody>
    <tr>
      <td>
        <b>ほかのフィールドの値を表示：フィールドA</b><br /><br />
        フィールドAが「佐藤」の場合、計算結果は「佐藤」になります。
      </td>
    </tr>
  </tbody>
</table>

<table width="90%">
  <tbody>
    <tr>
      <td>
        <b>文字列の結合：フィールドA &amp; &quot; &quot; &amp; フィールドB</b><br /><br />
        フィールドAが「佐藤」、フィールドBが「昇」の場合、計算結果は「佐藤 昇」になります。
      </td>
    </tr>
  </tbody>
</table>

<Note>

* 時刻、日付、または日時フィールドの値を文字として結合する場合、DATE_FORMAT関数を使用して、日時の形式を指定します。  
  日時の形式を指定しないと、日付や時刻が、UNIX時刻と呼ばれる数値で表示されます。  
  [[DATE_FORMAT関数]日付や時刻の表示形式を指定して表示する](/k/ja/id/040501.html)

</Note>

<table width="90%">
  <tbody>
    <tr>
      <td>
        <b>YEN関数の利用例：YEN(フィールドA * 1.1, 0)</b><br /><br />
        フィールドAが「8,875」の場合、計算結果は「&yen;9,763」になります。<br />
        「8,875 × 1.1 = 9762.5」を四捨五入した値です。
      </td>
    </tr>
  </tbody>
</table>

詳細は「[[&演算子]文字や数値の結合](/k/ja/id/040511.html)」で説明しています。

<Heading id="autocalc_example_operators_60">参考：未入力フィールドの計算</Heading>

未入力フィールドは「0」や空文字列として計算されます。

* 未入力の数値型のフィールドは、「0」とみなされます。ただし、「&」演算子では「""」（空の文字列）とみなされます。
* 未入力の文字列型のフィールドは、「""」（空の文字列）とみなされます。
* IF関数では、「数値フィールド=0」と指定すると、数値フィールドに「0」が入力されているときだけではなく、数値フィールドが未入力のときも真になります。
* 「数値フィールド=""」と指定すると、「未入力かどうか」という判定になります。「0」が入力されているときは偽、未入力のときは真、となります。
* 「0」を表示する代わりに「何も表示しない（空欄）」とする方法  
 計算結果を「""」としてください。  
  * 例：IF(個数=0, "", 単価*個数)  
  個数が0のときは、0と表示せずに空欄になります。個数が0ではないときは、掛け算した金額を表示します。

<Heading id="autocalc_example_operators_70">参考：数値と計算の値</Heading>

「数値」フィールドと「計算」フィールドの値は、桁数に応じて丸められる場合があります。丸められる桁数や丸めの方式は、設定で変更可能です。  
詳細は次のページを参照してください。

* [四捨五入、切り捨て、切り上げするときの設定の使い分け](/k/ja/id/040508.html)
* [数値の有効桁数と丸めかたを設定する](/k/ja/id/040482.html)
