---
title: "計算式の基本的な使いかた"
weight: 100
aliases:
  - "/ja/id/040509"
layout: "@/layouts/PageLayout.astro"
---

import Heading from "@/components/Heading.astro";
import Img from "@/components/Img.astro";
import Kintone from "@/components/Kintone.astro";


アプリに計算式を設定すると、複数の項目の合計値を算出したり、関数を用いた条件式に沿って自動で値を表示したりできます。  
このページでは、計算式の基本となるポイントや、設定方法について説明します。

<Heading id="autocalc_set_autocalc_10">計算式の基本</Heading>

計算式を使うときに必要な3つのポイントについて説明します。

<Heading level={3} id="autocalc_set_autocalc_1010">計算フィールドまたは文字列（1行）フィールドの設定画面で計算式を入力する</Heading>

計算式を使用できるのは、計算フィールドまたは文字列（1行）フィールドです。  
計算結果を数値として扱う場合は計算フィールドを、文字列として扱う場合は文字列（1行）フィールドを使います。

<Heading level={3} id="autocalc_set_autocalc_1020">計算式でフィールドを参照するときは、フィールドコードを使用する</Heading>

フィールドコードとは、フィールドを識別するための文字列です。計算式では、このフィールドコードを使用してほかのフィールドを参照します。  
詳細は以下のページを参照してください。  
[フィールドコードとは](/k/ja/id/040504.html)  
[計算式で参照できるフィールド／参照できないフィールド](/k/ja/id/040498.html)

[フィールドコードを挿入する]をクリックすると、アプリ内のフィールドコードが一覧で表示されます。  
一覧から使用したいフィールドコードを選択すると、計算式に挿入できます。
<Img src="/k/kintone/img-ja/set_autocalc_07.png" alt="スクリーンショット：計算式の設定画面。[フィールドコードを挿入する]と一覧表示されたフィールドコードが赤枠で囲われている" />

<Heading level={3} id="autocalc_set_autocalc_1030">関数や演算子を使用する</Heading>

<Kintone />の計算式では、半角の「+」「-」「*」「/」などの演算子や、関数を使用できます。  
演算子や関数はひとつの計算式の中で組み合わせて使うことができます。  
[演算子と関数の一覧](/k/ja/id/040499.html)

[関数を挿入する]をクリックすると、<Kintone />で使用できる関数が一覧で表示されます。  
一覧から使用したい関数を選択すると、計算式に挿入できます。
<Img src="/k/kintone/img-ja/set_autocalc_08.png" alt="スクリーンショット：計算式の設定画面。[関数を挿入する]と一覧表示された関数が赤枠で囲われている" />

<Heading id="autocalc_set_autocalc_20">計算式の設定方法</Heading>

ここでは例として、「単価」と「数量」を乗算して、「小計」を出す計算式を設定します。  
計算には、数値を入力する数値フィールドと、計算結果を表示する計算フィールドを使用します。

<Img src="/k/kintone/img-ja/set_autocalc_10.png" alt="スクリーンショット：「単価」と「数量」を乗算して「小計」を出す計算式が設定されているアプリ" />

1. 「レコードの一覧」画面で、画面右上にある歯車の形をした[アプリを設定]アイコンをクリックします。  
   <Img src="/k/kintone/img/settings_new_icon.png" alt="スクリーンショット：[アプリを設定]アイコンが枠線で強調されている" />

1. 「アプリの設定」画面で、[フォーム]タブをクリックします。

1. 画面左側のパーツ一覧から数値フィールドを2つ配置します。
   <Img src="/k/kintone/img-ja/set_autocalc_01.png" alt="スクリーンショット：数値フィールドを2つ配置している" />

1. 「単価」を入力する数値フィールドの設定画面を開きます。数値フィールド右上の歯車の形をした設定アイコンから[設定]をクリックします。
   <Img src="/k/kintone/img-ja/set_autocalc_02.png" alt="スクリーンショット：数値フィールド右上の[設定]を赤枠で強調している" />

1. [フィールド名]に「単価」と入力します。

1. [フィールドコード]に「単価」と入力します。
   <Img src="/k/kintone/img-ja/set_autocalc_03.png" alt="スクリーンショット：数値の設定画面のフィールド名とフィールドコードを赤枠で強調している" />

1. [保存]をクリックします。

1. 「数量」を入力する数値フィールドの設定画面を開きます。数値フィールド右上の歯車の形をした設定アイコンから[設定]をクリックします。
   <Img src="/k/kintone/img-ja/set_autocalc_02.png" alt="スクリーンショット：数値フィールド右上の[設定]を赤枠で強調している" />

1. [フィールド名]に「数量」と入力します。

1. [フィールドコード]に「数量」と入力します。
   <Img src="/k/kintone/img-ja/set_autocalc_04.png" alt="スクリーンショット：数値の設定画面のフィールド名とフィールドコードを赤枠で強調している" />

1. [保存]をクリックします。

1. 計算フィールドを配置します。
   <Img src="/k/kintone/img-ja/set_autocalc_05.png" alt="スクリーンショット：フォーム画面" />

1. 計算フィールドの設定画面を開きます。計算フィールド右上の歯車の形をした設定アイコンから[設定]をクリックします。
   <Img src="/k/kintone/img-ja/set_autocalc_06.png" alt="スクリーンショット：フィールドの設定アイコン" />

1. [フィールド名]に「小計」と入力します。

1. 計算式に、次の計算式を入力します。  

    ```plaintext{copy=true}
    単価*数量

    ```

    <Img src="/k/kintone/img-ja/set_autocalc_11.png" alt="スクリーンショット：計算の設定画面のフィールド名とフィールドコードを赤枠で強調している" />

1. [保存]をクリックします。

1. 画面左上の[フォームを保存]をクリックします。

1. アプリを新規作成している場合は、[アプリを公開]をクリックして、確認ダイアログで[OK]をクリックします。  
  アプリを設定変更している場合は、[アプリを更新]をクリックして、「アプリを更新」ダイアログで[アプリを更新]をクリックします。

レコード追加またはレコード編集画面で単価と数量を入力すると、小計に計算結果が表示されます。

<Heading id="autocalc_set_autocalc_30">エラーが表示されたときは</Heading>

計算式の設定時やレコード入力時にエラーが表示された場合の対処方法は、次のページを参照してください。

* [計算式で表示されるエラー](/k/ja/id/040497.html)
* [計算に関する質問／トラブル](/k/ja/id/040264.html)
