---
title: "ファイルからレコードのデータをアプリに読み込む"
weight: 700
aliases:
  - "/ja/id/040724"
description: "ファイル読み込みで、新しいレコードを追加または登録済みのレコードを上書きする手順と注意事項を説明しています。"
layout: "@/layouts/PageLayout.astro"
---

import Heading from "@/components/Heading.astro";
import Img from "@/components/Img.astro";
import Kintone from "@/components/Kintone.astro";
import Note from "@/components/Note.astro";
import Warning from "@/components/Warning.astro";


作成済みのアプリにファイルからデータを読み込んで、新しいレコードの追加や、登録済みのレコードへの更新ができます。  
なお、レコード内のテーブルに対しても、新しい行の追加や、既存の行の更新ができます。

ここでは、作成済みのアプリに、ファイルからデータを読み込む操作や注意事項について説明します。

<Note>

* ファイルから読み込む前に、アプリがファイルからデータの登録や更新ができる状態になっているか、ファイルが読み込みに適した形式になっているかを確認してください。  
  [ファイルを読み込むアプリを確認する](/k/ja/id/040770.html)  
  [レコード登録・上書き用のファイルを準備する](/k/ja/id/040771.html)  
* アプリやファイルがまだない場合は、次のページを参照して、自分が当てはまるパターンに従って、アプリやファイルを準備してください。  
  [ファイルを読み込むまでの流れ](/k/ja/id/040728.html)  
</Note>

<Heading id="import_records_import_csv_10">ファイル読み込み前の注意事項</Heading>
* フィールドの種類や設定によって、ファイルからデータの登録や更新ができない場合があります。  
  [データを登録・上書きできないフィールドや情報がないかを確認する](/k/ja/id/040770.html#import_records_app_to_import_10)  
  [閲覧・編集できないレコードやフィールドがないかを確認する](/k/ja/id/040770.html#import_records_app_to_import_20)
* ファイルからデータを読み込むには、アプリのアクセス権で「ファイル読み込み」権限が必要です。  
  また、新規登録するレコードの作成者／作成日時／更新者／更新日時フィールドにデータを読み込むには、「アプリの管理」権限も必要です。  
  [アプリにアクセス権を設定する](/k/ja/id/040589.html)
* ファイルからデータを読み込む前に、バックアップとして、登録済みのレコードのデータをファイルに書き出しておくことを推奨します。ファイルへの書き出し方法は、次のページを参照してください。  
  [ファイルにデータを書き出す](/k/ja/id/040452.html)  
* ファイルからデータを読み込んでいる間、<Kintone />の画面やAPIを利用した、レコードの登録や更新ができない場合があります。

<Heading id="import_records_import_csv_20">ファイル読み込み操作のポイント</Heading>
ファイルからデータを読み込む際には、アプリの各フィールドに対して、ファイルのどの列のデータを読み込むかを指定します。  
また、登録済みのレコードのデータを更新する場合は、さらに「一括更新のキー」となるフィールドを指定します。

ここでは、この2つの設定のポイントについて説明します。
<Img src="/k/kintone/img-ja/import_csv_img11.png" alt="スクリーンショット：フィールドとファイルの列の対応付け" />

<Heading level={3} id="import_records_import_csv_2010">(a) 「ファイルの列」を指定するときのポイント</Heading>
「ファイルから読み込む」画面の「ファイルの列」で、アプリの各フィールドに対して、データを読み込みたいファイルの列を指定します。  
<Img src="/k/kintone/img-ja/import_csv_img6.png" alt="図：フィールドとファイルの列の対応付け" />

* データを読み込みたいフィールドが「アプリのフィールド」に表示されない場合は、ファイルからデータの登録や更新ができないフィールド、または閲覧や編集の権限がないフィールドです。  
  たとえば、計算式が設定されているフィールドなど、ほかのフィールドの値に応じて、値が計算・取得されるフィールドは、「アプリのフィールド」に表示されません。ファイル読み込み時にデータが再計算・再取得されます。  
  該当するフィールドは、次のページを参照してください。  
  [ファイルを読み込むアプリを確認する](/k/ja/id/040770.html)  
* 入力必須のフィールド（「*」が付いたフィールド）には、データを新規レコードとして登録する場合、必ずファイルの列を指定します。  
  なお、登録済みレコードを更新する場合でも、該当フィールドに値が未登録のレコードがある場合は、ファイルの列を指定してください。
* 値を登録・更新する必要がないフィールドには、「（指定しない）」を選択します。  
  * 新規レコードでは、空欄、または初期値（初期値が設定されている場合）で登録されます。  
  * 登録済みのレコードでは、登録されている値から更新されません。  

  特に、登録済みのレコードのデータを更新する場合、誤って古いデータで更新してしまうことがないように、値を更新しないフィールドには、「（指定しない）」を選択してください。
* 登録済みレコードにテーブルのデータを更新する場合、「アプリのフィールド」に表示されているテーブル内の全フィールドに対して、ファイルの列を指定します。変更のないフィールドも読み込みの対象として指定してください。  

<Heading level={3} id="import_records_import_csv_2020">(b) 「一括更新のキー」を指定するときのポイント</Heading>
登録済みのレコードのデータを更新する場合は、「一括更新のキー」となるフィールドを指定します。

「一括更新のキー」とは、ファイルの各行のデータをどのレコードで更新するかを特定するためのフィールドです。「一括更新のキー」には、レコード番号や受注番号など、同じアプリ内でほかのレコードと値が重複しないフィールドを指定します。

「一括更新のキー」を指定すると、ファイルを読み込んだ際に、「一括更新のキー」のフィールドの値と、対応付けられたファイルの列の値が比較されます。

* **ファイルの列の値が、「一括更新のキー」のフィールドの値と一致する場合**  
  その値が記載されている行のデータを、値が一致したレコードに更新します。
* **ファイルの列の値が、「一括更新のキー」のフィールドの値と一致しない場合**  
  その値が記載されている行のデータを、新規レコードとして登録します。

<Img src="/k/kintone/img-ja/import_csv_img7.png" alt="図：「一括更新のキー」で特定したレコードへのデータ登録・更新" />

なお、読み込むファイル内で「一括更新のキー」に指定した値が重複している場合、後から読み込まれる行のデータで更新されます。  

「一括更新のキー」に指定できるフィールドは、次のとおりです。

* レコード番号
* 文字列（1行）
* 数値
* 日付
* 日時
* リンク

<Note>

「一括更新のキー」に指定するフィールドは、ほかのレコードと値が重複しないフィールドでなければなりません。

* レコード番号は、レコード作成時に自動的に番号が割り当てられ、同じアプリ内で、ほかのレコードとは値が重複しません。そのため、「一括更新のキー」としてよく利用されます。  
  レコード番号を「一括更新のキー」に指定する場合、ファイルの列にアプリに存在しないレコード番号があると、読み込んだ際にエラーになります。
* レコード番号以外（文字列（1行）、数値、日付、日時、リンク）を「一括更新のキー」に指定する場合は、フィールドの設定で「値の重複を禁止する」を有効にしている必要があります。

</Note>

<Heading id="import_records_import_csv_30">ファイル読み込みの手順</Heading>
1. レコード一覧画面右上の「オプション」アイコンをクリックし、[ファイルから読み込む]をクリックします。  
   <Img src="/k/kintone/img-ja/import_csv_img01.png" alt="スクリーンショット：レコード一覧画面でメニューを選択している画面" />
  [ファイルから読み込む]が表示されない場合は、アプリのアクセス権の設定で「ファイル読み込み」権限を付与してください。  
  [アプリにアクセス権を設定する](/k/ja/id/040589.html)

1. [参照]をクリックし、読み込むファイルを指定します。  
   <Img src="/k/kintone/img-ja/import_csv_img2.png" alt="スクリーンショット：読み込むファイルを指定する画面" />
  <Note>
  読み込み可能なファイル形式（拡張子）は、Excel形式（xlsx）／CSV形式（csv）／TXT形式（txt）／TSV形式（tsv）です。
  </Note>

1. 「読み込むファイルの先頭行はフィールド名ですか？」のラジオボタンを選択します。  
  ファイルの先頭行に列名が記載されている場合は、「はい」を選択します。
   <Img src="/k/kintone/img-ja/import_csv_img3.png" alt="スクリーンショット：先頭行のデータがフィールド名かを指定する画面" />
  ファイルの内容に応じて、自動的に「はい」が選択される場合があります。

1. 「プレビュー」に、ファイルの内容が正しく表示されていることを確認します。  
   <Img src="/k/kintone/img-ja/import_csv_img4.png" alt="スクリーンショット：読み込まれたファイルのプレビュー画面" />
  「文字コード」と「区切り文字」のドロップダウンは、CSVファイルを読み込んだ場合のみ表示されます。  
   * ファイルのデータが文字化けしている場合は、「文字コード」を変更します。  
   * ファイルのデータが列ごとに正しく区切られていない場合は、「区切り文字」を変更します。

1. アプリの各フィールドに対して、データを読み込むファイルの列を指定します。  
  参考：[(a) 「ファイルの列」を指定するときのポイント](#import_records_import_csv_2010)  
   <Img src="/k/kintone/img-ja/import_csv_img5.png" alt="スクリーンショット：「ファイルの列」を指定する画像" />
  ファイルの先頭行に列名が記載されている場合、アプリのフィールド名と一致する列が、「ファイルの列」に自動的に指定されます。  
  
   * データを読み込みたいフィールドが表示されない場合は、ファイルからデータの登録や更新ができないフィールド、または閲覧や編集の権限がないフィールドです。  
   該当するフィールドは、次のページを参照してください。  
   [ファイルを読み込むアプリを確認する](/k/ja/id/040770.html)
   * 入力必須のフィールド（「*」が付いたフィールド）には、データを新規レコードとして登録する場合、必ずファイルの列を指定します。
   * ファイルからデータの登録や更新をしないフィールドには、「（指定しない）」を選択します。
     * 新規レコードでは、空欄、または初期値（初期値が設定されている場合）で登録されます。
     * 登録済みのレコードでは、登録されている値から更新されません。

   <Note>
   ファイルの先頭行に、アプリのフィールド名と一致する列名があるにもかかわらず、「（指定しない）」が選択される場合は、日時／日付／時刻／数値フィールドと対応付けたファイルの列で、先頭から5行目までに、入力形式が不正なデータが含まれている可能性があります。
   </Note>

   * テーブル内のフィールドは、「テーブル名 > フィールド名」という形式で表示されます。  
   登録済みレコードを更新する場合は、テーブル内の全フィールドに、ファイルの列を指定してください。  
   <Img src="/k/kintone/img-ja/import_csv_img13.png" alt="スクリーンショット：テーブルのフィールドの表示形式" />
   <Note>
   テーブル内に添付ファイルフィールドが含まれていると、登録済みレコードのデータを更新する際、該当テーブルにデータを読み込みできません。  
   該当テーブルのすべてのフィールドに「（指定しない）」を選択して、読み込みの対象から外してください。
   </Note>

1. 登録済みのレコードを更新する場合、「一括更新のキー」にチェックを入れます。  
  参考：[(b) 「一括更新のキー」を指定するときのポイント](#import_records_import_csv_2020)  
   <Img src="/k/kintone/img-ja/import_csv_img8.png" alt="スクリーンショット：「一括更新のキー」にチェックを入れる画像" />
  「一括更新のキー」に指定できるフィールドは、次のとおりです。
   * レコード番号
   * 文字列（1行）
   * 数値
   * 日付
   * 日時
   * リンク
  <Note>
  レコード番号以外（文字列（1行）、数値、日付、日時、リンク）に「一括更新のキー」のチェックボックスが表示されない場合は、フィールドの設定で「値の重複を禁止する」を有効にしてください。
  </Note>

1. 新規登録するレコードの作成者／作成日時／更新者／更新日時を読み込む場合は、「レコードの作成／更新情報」の各フィールドに対して、ファイルの列を指定します。  
   <Img src="/k/kintone/img-ja/import_csv_img10.png" alt="スクリーンショット：「レコードの作成／更新情報」にファイルの列を指定する画面" />
  <Note>
  登録済みレコードの作成者／作成日時／更新者／更新日時には、ファイルから任意の値で上書きできません。
   * レコードの作成者／作成日時は、登録されている値から更新されません。
   * レコードの更新者／更新日時は、ファイルを読み込んだユーザーと日時に更新されます。
  </Note>
   * 「レコードの作成／更新情報」の各フィールドが表示されない場合は、アプリのアクセス権の設定で「アプリ管理」権限を付与してください。  
   [アプリにアクセス権を設定する](/k/ja/id/040589.html)
   * 「（指定しない）」を選択すると、新規登録するレコードの作成者／作成日時／更新者／更新日時は、ファイルを読み込んだユーザーと日時になります。  

1. 読み込みエラー検知時の処理方法を選択します。
  それぞれの選択肢での処理方法や、読み込み結果については、次のページを参照してください。  
   [読み込みエラー検知時の処理方法を選択する](/k/ja/id/040839.html)

1. 画面左上の[読み込む]をクリックします。
   <Img src="/k/kintone/img-ja/import_csv_img9.png" alt="スクリーンショット：[読み込む]をクリックする画像" />
  <Warning>
  [読み込む]がグレー表示され、クリックできない場合は、以下の原因が考えられます。

   * ファイルが指定されていない。または、ファイルにレコードデータがない。
   * ファイルを読み込むと、アプリに登録できるレコード数の上限値を超える。
   * ファイルに記載形式が正しくないデータが含まれている。
   * 入力必須のフィールドなどに、ファイルの列が選択されていない。
   * テーブル内のいずれかのフィールドに、ファイルの列が指定されていない。または、読み込みできないテーブル内のいずれかのフィールドに、ファイルの列が指定されている。（どちらも登録済みレコードを更新する場合のみ）

   ファイルを変更するか、フィールドとファイルの列の対応付けを変更してください。
  </Warning>

読み込みが開始されると、レコード一覧画面に自動的に遷移します。  
<Img src="/k/kintone/img-ja/import_csv_img12.png" alt="スクリーンショット：ファイル読み込み中の画面" />
画面上部にメッセージが表示され、データの読み込み状況や結果を確認できます。  
メッセージ内のリンクをクリックすると、「読み込まれたファイル」画面が表示されます。「読み込まれたファイル」画面では、自分が実行した読み込みの進捗状況やエラー内容の詳細を確認できます。  
[ファイルの読み込み状況を確認する](/k/ja/id/040727.html)

ファイルの読み込みに失敗した場合、対処方法は次のページを参照してください。  
[レコードの一括登録／更新に失敗した場合](/k/ja/id/040726.html)

<Note>

* 誤って不要なレコードを大量に登録してしまった場合、アプリ内の全レコードを一括で削除できます。  
  アプリ内の全レコードを一括削除する方法は、次のページを参照してください。  
  [レコードを一括で削除する](/k/ja/id/040716.html)
* ファイルで指定したとおりにデータが登録や更新がされない場合は、ファイルの記載形式が異なっている可能性があります。  
  次のページを参照して、ファイル内の該当フィールドの記載内容に問題がないかを確認してください。  
  [レコード登録・上書き用のファイルの記載形式](/k/ja/id/040722.html)
</Note>
