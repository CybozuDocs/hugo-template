---
title: "テーブルを含むレコードを登録・上書きするためのファイルを準備する"
weight: 500
aliases:
  - "/ja/id/040725"
layout: "@/layouts/PageLayout.astro"
---

import Heading from "@/components/Heading.astro";
import Img from "@/components/Img.astro";


ここでは、ファイルからテーブルを含むレコードのデータを登録・上書きするためには、どのようなファイルを作るとよいかについて説明しています。

ファイル形式やファイルサイズの上限値など、ファイルの基本的な注意事項は、「[レコード登録・上書き用のファイルを準備する](/k/ja/id/040771.html)」を参照してください。

ファイルを編集する際には、あらかじめアプリからレコードのデータをファイルに書き出し、そのファイルを元に編集することをおすすめします。  
[ファイルにデータを書き出す](/k/ja/id/040452.html)

<Heading id="import_records_import_file_table_10">1レコードごとのファイルの記載形式</Heading>
登録済みレコードのテーブルに上書きする場合は、変更しないフィールドがあっても、ファイルには、該当テーブル内の全フィールドのデータを記載してください（ただし、再計算・再取得されるフィールドのデータは記載不要です）。

レコードの記載形式は、1つのレコードにテーブルが1つある場合と複数ある場合で異なります。

<Heading level={3} id="import_records_import_file_table_1010">テーブルが1つある場合</Heading>
<Img src="/k/kintone/img-ja/import_file_table_01.png" alt="スクリーンショット：レコードにテーブルが1つある場合のファイルの記載形式" />

テーブルが1つあるレコードの記載形式には、以下の3つのポイントがあります。

* ポイント1：ファイルの先頭列を「レコードの開始行」という項目名にします。  
  先頭列では、各レコードのデータの開始行にアスタリスク「\*」を記載し、それ以外は空にします。「\*」の行から次の「\*」の前の行までのデータが、1レコードのデータです。  
  先頭列に、「\*」以外の文字が記載されているとエラーになります。
* ポイント2：テーブル以外のフィールドに登録・上書きするデータは、「レコードの開始行」にアスタリスク「\*」がある行に記載します。「\*」がない行に記載しても、読み込む際に無視されます。  
  なお、アプリからレコードのデータを書き出したファイルの場合、「\*」がない行にも、レコードの開始行のデータと同じ内容が出力されます。
* ポイント3：テーブル内のフィールドに登録・上書きするデータは、テーブルの行数にあわせて1行～複数行で記載します。  

<Heading level={3} id="import_records_import_file_table_1020">テーブルが複数ある場合</Heading>
<Img src="/k/kintone/img-ja/import_file_table_13.png" alt="スクリーンショット：レコードにテーブルが複数ある場合のファイルの記載形式" />

テーブルが複数あるレコードの記載形式には、以下の2つのポイントがあります。  
「[テーブルが1つある場合](/k/ja/id/040725.html#import_records_import_file_table_1010)」の内容と合わせてご確認ください。

* ポイント1：先頭行には、テーブルごとに各項目名を並べて記載します。
* ポイント2：テーブルのデータは、同じ行に複数テーブルのデータが存在しないように、1行ずつ記載します。1行に複数テーブルのデータが記載されていると、読み込みの際にエラーになります。

<Heading id="import_records_import_file_table_20">テーブルに読み込むファイルの編集方法</Heading>
<Heading level={3} id="import_records_import_file_table_2010">テーブルの内容を更新する場合</Heading>
<Img src="/k/kintone/img-ja/import_file_table_10.png" alt="スクリーンショット：完成イメージ" />

1. テーブル内の変更したい箇所のデータを修正します。  
   <Img src="/k/kintone/img-ja/import_file_table_06.png" alt="スクリーンショット：変更したい箇所を修正" />

<Heading level={3} id="import_records_import_file_table_2020">すでにあるテーブルに行を追加する場合</Heading>
<Img src="/k/kintone/img-ja/import_file_table_08.png" alt="スクリーンショット：完成イメージ" />

1. テーブルに追加したい行数分の行を追加します。  
  追加した行がレコードのデータの開始行でなければ、先頭列「レコードの開始行」は空にします。  
   <Img src="/k/kintone/img-ja/import_file_table_05.png" alt="スクリーンショット：行を追加して、先頭列は空にする" />

1. 追加した行に、テーブル内のフィールドに登録するデータを記載します。  
   <Img src="/k/kintone/img-ja/import_file_table_09.png" alt="スクリーンショット：テーブルのフィールドにデータを記載" />

<Heading level={3} id="import_records_import_file_table_2030">テーブルを含むレコードを新しく登録する場合</Heading>
<Img src="/k/kintone/img-ja/import_file_table_07.png" alt="スクリーンショット：完成イメージ" />

1. テーブルの行数分の行を追加します。  
  追加した行の先頭列では、レコードのデータの開始行にアスタリスク「*」を記載し、それ以外は空にします。  
   <Img src="/k/kintone/img-ja/import_file_table_03.png" alt="スクリーンショット：行を追加して、先頭列にアスタリスクを記載" />

1. 追加した行に、レコードのデータを項目ごとに記載します。
   <Img src="/k/kintone/img-ja/import_file_table_04.png" alt="スクリーンショット：フィールドごとにデータを記載" />
   * テーブル以外のフィールドに登録するデータは、「レコードの開始行」にアスタリスク「\*」がある行に記載します。「\*」がない行に記載しても、読み込む際に無視されます。
   * テーブル内のフィールドに登録するデータは、テーブルの行数にあわせて1行～複数行で記載します。

<Heading id="import_records_import_file_table_30">参考：テーブルにファイルからデータを読み込むときのポイント</Heading>
* 登録済みのレコードのテーブルにデータを上書きする場合は、そのテーブル内のすべてフィールドを読み込み対象として指定する必要があります。  
  そのため、変更のないフィールドがあっても、ファイルには、そのテーブル内のすべてのフィールドに読み込むデータを記載してください（ただし、再計算・再取得されるフィールドのデータは記載不要です）。
* 読み込み先のフィールドを指定する際、テーブル内のフィールドは、「テーブル名 > フィールド名」という形式で表示されます。  
  テーブルが複数ある場合は、テーブル名を確認して、読み込み先を指定してください。
  <Img src="/k/kintone/img-ja/import_file_table_02.png" alt="スクリーンショット：読み込み先のフィールドを指定する際の、テーブル内のフィールドの表示" />
