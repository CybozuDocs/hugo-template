---
title: "レコードのデータをファイルに書き出す際の注意事項"
weight: 100
aliases:
  - "/ja/id/040455"
layout: "@/layouts/PageLayout.astro"
---

import Heading from "@/components/Heading.astro";
import Img from "@/components/Img.astro";


レコードのデータをファイルに書き出す際の注意事項について説明します。  
また、出力されたファイルを使って、アプリに登録されているレコードのデータを一括更新したい場合は、追加の注意事項があります。

ファイルに書き出す操作の前に、ここで説明している注意事項をあらかじめご確認ください。

<Heading id="export_export_preparation_10">ファイルに書き出す際の注意事項</Heading>

* アプリのアクセス権で、「ファイル書き出し」権限が必要です。  
  アクセス権の初期設定では、「ファイル書き出し」はアプリの作成者だけに許可されています。  
  必要に応じて、操作するユーザーに対して、ファイル書き出しの権限を付与してください。  
  参考：[アプリにアクセス権を設定する](/k/ja/id/040589.html)
* 次のデータは、ファイルに書き出すことができません。
  * ラベル
  * 添付ファイル
  * 関連レコード一覧
  * コメント
  * 変更履歴

  また、データの種類によっては、ファイルに書き出すことができても、書き出したファイルからアプリに読み込むことができないものがあります。詳細は「[アプリのデータの入出力](/k/ja/id/04056.html#appdata)」を参照してください。
* 書き出すファイルが100MBを超えると、書き出しに失敗します。一度に書き出すフィールドやレコードを絞り込んでください。

<Heading id="export_export_preparation_20">レコードの一括更新に使用するファイルを書き出す際の注意事項</Heading>

出力されたファイルを使って、アプリに登録されているレコードのデータをまとめて上書きしたい場合は、ファイルに次のフィールドを書き出します。

* 値を更新するフィールド
* 一括更新のキーにするフィールド

「一括更新のキーにするフィールド」は、更新するレコードとファイルのデータを紐づけるために使われます。  
ファイルを読み込む際に、一括更新のキーにしたフィールドの値（アプリのデータ）とファイルの列の値（ファイルのデータ）が一致するかどうかによって、レコードが上書きされるか、新しく登録されるかが異なります。

* キーに指定したフィールドの値と、ファイルの列の値が一致した場合は、その行の値でレコードが上書きされます。
* キーに指定したフィールドの値と、ファイルの列の値が一致しない場合は、その行の値で新しいレコードが登録されます。

<Img src="/k/kintone/img-ja/recordupdate_bulk_img1.png" alt="図：一括更新のキーに「顧客ID」が使われるときの、レコードの追加と更新のイメージを表している" />

<Heading level={3} id="export_export_preparation_2010">一括更新のキーに指定できるフィールド</Heading>

次のいずれかの種類のフィールドを一括更新のキーに指定できます。

* レコード番号
* 文字列（1行）
* 数値
* 日付
* 日時
* リンク

一括更新のキーに指定するフィールドは、ほかのレコードと値が重複しないフィールドでなければなりません。

* レコード番号は、レコードに必ず含まれ、ほかのレコードとは重複しない値が自動で生成されるため、一括更新のキーとしてよく利用されます。  
  レコード番号を一括更新のキーに指定した場合、ファイルの「レコード番号」の列にアプリに存在しないレコード番号があると、ファイルを読み込めません。
* レコード番号以外（文字列（1行）、数値、日付、日時、リンク）を一括更新のキーに指定する場合は、フィールドの設定で「値の重複を禁止する」を有効にしている必要があります。
