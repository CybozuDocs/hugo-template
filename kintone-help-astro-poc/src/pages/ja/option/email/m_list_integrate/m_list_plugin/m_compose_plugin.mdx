---
title: "メール作成プラグイン"
weight: 300
disabled: "[US,CN]"
aliases:
  - "/ja/id/040905"
layout: "@/layouts/PageLayout.astro"
---

import Heading from "@/components/Heading.astro";
import Img from "@/components/Img.astro";
import Kintone from "@/components/Kintone.astro";
import Listsummary from "@/components/Listsummary.astro";


メール作成プラグインは、<Kintone />のアプリに保存されているメールアドレスに対して、メールを作成するプラグインです。アプリの顧客情報から新規メールを作成したり、アプリに転記された問い合わせメールに返信したりできます。メールの作成時に、別のアプリからメールのテンプレートを呼びだすことも可能です。

<Kintone />のレコード詳細画面に、メールの作成を開始するボタンが表示されます。ボタンをクリックして、メールに挿入するテンプレートを選択すると、メールを作成する画面が表示されます。

<Img src="/k/kintone/img-ja/m_compose_plugin_01.png" alt="スクリーンショット：テンプレートを利用して新規メールを作成するときの操作イメージ" />

次の手順で、<Kintone />のアプリにメール作成プラグインを設定します。各ステップの詳細は後述しています。

<Listsummary>

1. [メール転記を設定する](#m_list_plugin_m_compose_plugin_10)
1. [メールテンプレートアプリを用意する](#m_list_plugin_m_compose_plugin_20)
1. [プラグインをインストールする](#m_list_plugin_m_compose_plugin_30)
1. [アプリにプラグインを追加する](#m_list_plugin_m_compose_plugin_40)
1. [プラグインの設定を変更する](#m_list_plugin_m_compose_plugin_50)

</Listsummary>

<Heading id="m_list_plugin_m_compose_plugin_10">メール転記を設定する</Heading>

返信メールを作成する場合は、メール共有オプションで、メール作成プラグインを利用するアプリをメールの転記先として設定します。詳細は、次のページを参照してください。  
[メール転記を設定する](/k/ja/id/040926.html)

返信メールを作成しない場合は、次のステップに進みます。

<Heading id="m_list_plugin_m_compose_plugin_20">メールテンプレートアプリを用意する</Heading>

メールの作成時にテンプレートを利用する場合は、テンプレートを保存するアプリを用意します。必要なフィールドがあらかじめ設定されている、「メール共有オプション機能体験パック」のメールテンプレートアプリを利用すると便利です。

<Heading level={3} id="m_list_plugin_m_compose_plugin_2010">メールテンプレートを追加する</Heading>

メールテンプレートをメールテンプレートアプリのレコードに追加します。1つのレコードにつき、1つのテンプレートを管理できます。

<Heading level={4} id="m_list_plugin_m_compose_plugin_201010">顧客やログインユーザーの情報を自動的に挿入する</Heading>

アプリの顧客情報をメールの本文に自動的に挿入するテンプレートを追加できます。顧客情報が保存されたフィールドのフィールドコードを半角パーセント（%）で囲み、テンプレートの本文に入力します。また、次の文字列を使って、ログインユーザーの情報をメールの本文に挿入することも可能です。

* %LoginUser%  
  ログインユーザーの表示名が挿入されます。
* %LoginName%  
  ログインユーザーの名前（姓）が挿入されます。
* %LoginMail%  
  ログインユーザーのメールアドレスが挿入されます。
* %LoginTel%  
  ログインユーザーの連絡先が挿入されます。

たとえば、<Kintone />アドレス帳アプリの各フィールドに対して、次のフィールドコードを設定します。

* 組織名を指定するフィールドのフィールドコード：Company
* 名前を指定するフィールドのフィールドコード：Customer

メールテンプレートアプリで、メールの本文を次のように設定します。

```
%Company%
%Customer% 様

いつもお世話になっております。
ボウズマン株式会社の%LoginName%と申します。

```

<Kintone />アドレス帳アプリのレコードから新規メールを作成する際、このテンプレートを挿入すると、メールの本文の「%Company%」と「%Customer%」が各フィールドの値に置き換わり、「%LoginName%」がログインユーザーの名前（姓）に置き換わります。

```
キントーン商事
中島 彩花 様

いつもお世話になっております。
ボウズマン株式会社の加藤と申します。

```

<Heading level={4} id="m_list_plugin_m_compose_plugin_201020">挿入できるフィールドタイプ</Heading>

メールの本文に値を挿入できるフィールドのフィールドタイプは次のとおりです。テーブル内のフィールドの値は挿入できません。

* レコード番号
* 文字列（1行）
* 文字列（複数行）
* 数値
* ラジオボタン
* リンク
* ドロップダウン
* ルックアップ（ルックアップ先が上記のフィールドタイプ）

<Heading id="m_list_plugin_m_compose_plugin_30">プラグインをインストールする</Heading>

<Kintone />システム管理者がメール作成プラグインを<Kintone />にインストールします。詳細は、次のページを参照してください。  
[プラグインストアからプラグインを追加する](/k/ja/id/0408.html#add_plugin_plugin_20)

<Heading id="m_list_plugin_m_compose_plugin_40">アプリにプラグインを追加する</Heading>

アプリ管理者がメール作成プラグインをアプリに追加します。詳細は、次のページを参照してください。  
[アプリにプラグインを追加する](/k/ja/id/040566.html#app_settings_plugin_10)

<Heading id="m_list_plugin_m_compose_plugin_50">プラグインの設定を変更する</Heading>

メール作成プラグインの設定を変更します。

<Heading level={3} id="m_list_plugin_m_compose_plugin_5010">手順</Heading>

1. <Kintone />のアプリの画面右上にある歯車の形をした[アプリを設定]アイコンをクリックします。  
    <Img src="/k/kintone/img-ja/m_history_plugin_02.png" alt="スクリーンショット：[アプリを設定]アイコンを枠線で強調している" />

1. 「アプリの設定」画面で[設定]タブを選択し、「カスタマイズ／サービス連携」の[プラグイン]をクリックします。

1. 「メール作成」の右側にある歯車の形をした[プラグインの設定]アイコンをクリックします。  
    <Img src="/k/kintone/img-ja/m_compose_plugin_02.png" alt="スクリーンショット：プラグインの設定アイコンを枠線で強調している" />

1. 利用する機能にチェックを入れ、必要な項目を設定します。  
設定項目の詳細は、次の項目を参照してください。  
[新規メールの作成の設定項目](#m_list_plugin_m_compose_plugin_501010)  
[返信メールの作成の設定項目](#m_list_plugin_m_compose_plugin_501020)  
[テンプレートの利用の設定項目](#m_list_plugin_m_compose_plugin_501030)

1. [保存]をクリックします。

1. 「アプリの設定」画面に戻り、画面右上の[アプリを更新]をクリックします。

1. 「アプリの設定」ダイアログで、[アプリを更新]をクリックします。

<Heading level={4} id="m_list_plugin_m_compose_plugin_501010">新規メールの作成の設定項目</Heading>

新規メールを作成する場合の設定項目は次のとおりです。

* メールアプリケーション：  
  ログインユーザーが閲覧可能なメールアプリケーションが、選択肢として表示されます。
* 「新規メールを作成」ボタンを表示するフィールド：  
  スペースフィールドの要素IDが選択肢として表示されます。要素IDを設定しているスペースフィールドがない場合、[レコードの操作メニューの上部に表示]のみ表示されます。
* 新規メールの作成に利用するフィールド：  
  メールの各項目に関連付けるフィールドをドロップダウンリストから選択します。

<Heading level={4} id="m_list_plugin_m_compose_plugin_501020">返信メールの作成の設定項目</Heading>

返信メールを作成する場合の設定項目は次のとおりです。

* 「返信メールを作成」ボタンを表示するフィールド：  
  スペースフィールドの要素IDが選択肢として表示されます。要素IDを設定しているスペースフィールドがない場合、[レコードの操作メニューの上部に表示]のみ表示されます。
* 返信元のメールのURLが保存されるフィールド
* 返信メールの作成に利用するフィールド：  
  メールの「添付ファイル」項目に関連付けるkintoneメール転記アプリのフィールドを、ドロップダウンリストから選択します。

<Heading level={4} id="m_list_plugin_m_compose_plugin_501030">テンプレートの利用の設定項目</Heading>

テンプレートを利用する場合の設定項目は次のとおりです。

* テンプレートとして利用するアプリ
* テンプレートに利用するフィールド：  
  テンプレート名を指定しているフィールドや、メールの各項目に関連付けるフィールドを、ドロップダウンリストから選択します。
