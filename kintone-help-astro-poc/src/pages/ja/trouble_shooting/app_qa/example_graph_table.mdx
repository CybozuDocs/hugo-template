---
title: "集計結果をもとにさらに集計（計算）できますか？"
weight: 5100
aliases:
  - "/ja/id/040187"
layout: "@/layouts/PageLayout.astro"
---

import Heading from "@/components/Heading.astro";
import Img from "@/components/Img.astro";

集計機能やグラフ機能の設定では、「集計結果をもとに、特定のフィールドの値に対する割合をさらに算出する」といったような、集計結果の集計はできません。

参考までに、フォーム上に売上金額、目標値、達成率といった集計対象のフィールドを配置し、売上金額と達成率は「合計」、目標値は「平均」を集計することで、売上金額と達成率を同じ画面で確認できます。  
ただし「棒グラフ」にすると、金額と達成率の桁数が違い過ぎる場合に達成率が判別しにくくなるため、グラフの種類は「表」にすることがおすすめです。  

<Heading id="app_qa_example_graph_table_10">設定例</Heading>

<Heading level={3} id="app_qa_example_graph_table_1010">フォームの設定</Heading>

アプリのフォームに、次のフィールドを配置します。

* 日付フィールド
  * フィールド名：日付
  * フィールドコード：日付
* ユーザー選択フィールド
  * フィールド名：担当者名
  * フィールドコード：担当者名
* 数値フィールド
  * フィールド名：月間目標金額
  * フィールドコード：月間目標金額
* 数値フィールド
  * フィールド名：売上金額
  * フィールドコード：売上金額
* 計算フィールド
  * フィールド名：達成率
  * フィールドコード：達成率
  * 計算式：売上金額 / 月間目標金額 * 100
  * 単位記号：%（後ろに付ける）

<Heading level={3} id="app_qa_example_graph_table_1020">グラフの設定</Heading>

集計用のグラフを設定します。グラフ名は任意です。  
参考：[アプリの設定画面からグラフを追加する](/k/ja/id/040586.html)

* グラフの種類：表
* 分類する項目
  * 大項目：日付、月単位
  * 中項目：担当者名
* 集計方法
  * 平均：月間目標金額
  * 合計：売上金額
  * 合計：達成率
* 条件：すべてのレコード
* ソート：大項目、昇順

<Heading level={3} id="app_qa_example_graph_table_1030">レコードの登録</Heading>

次のレコードを登録します。

<table>
<caption>レコードの登録例</caption>
    <thead>
        <tr>
            <th>日付</th>
            <th>担当者名</th>
            <th>月間目標金額</th>
            <th>売上金額</th>
            <th>達成率</th>
        </tr>
    </thead>
    <tbody>
        <tr>
        <td>2021-07-01</td>
        <td>Aさん</td>
        <td>300000</td>
        <td>20000</td>
        <td>6.67%</td>
        </tr>
        <tr>
        <td>2021-07-08</td>
        <td>Aさん</td>
        <td>300000</td>
        <td>15000</td>
        <td>5%</td>
        </tr>
        <tr>
        <td>2021-07-12</td>
        <td>Aさん</td>
        <td>300000</td>
        <td>30000</td>
        <td>10%</td>
        </tr>
        <tr>
        <td>2021-07-05</td>
        <td>Bさん</td>
        <td>250000</td>
        <td>10000</td>
        <td>4%</td>
        </tr>
        <tr>
        <td>2021-07-15</td>
        <td>Bさん</td>
        <td>250000</td>
        <td>50000</td>
        <td>20%</td>
        </tr>
    </tbody>
</table>
<br />

<Heading level={3} id="app_qa_example_graph_table_1040">レコードの集計</Heading>

集計結果を確認します。  
参考：[グラフを作成する](/k/ja/id/040468.html)

<table>
<caption>レコードの集計例</caption>
    <thead>
        <tr>
            <th>日付（月単位）</th>
            <th>担当者名</th>
            <th>平均（月間目標金額）</th>
            <th>合計（売上金額）</th>
            <th>合計（達成率）</th>
        </tr>
    </thead>
    <tbody>
    <tr>
        <td>2021-07-01</td>
        <td>Bさん</td>
        <td>250000</td>
        <td>60000</td>
        <td>24%</td>
    </tr>
    <tr>
        <td>2021-07-01</td>
        <td>Aさん</td>
        <td>300000</td>
        <td>65000</td>
        <td>21.67%</td>
    </tr>
    </tbody>
</table>

<Img src="/k/kintone/img-ja/example_graph_table_01.png" alt="スクリーンショット：作成したグラフに、集計結果をもとに算出された、売上金額と達成率が表示されている" />

このような方法で、売上金額と達成率を同じ画面で確認できます。
