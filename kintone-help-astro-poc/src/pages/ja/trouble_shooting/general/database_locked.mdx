---
title: "「データベースがロックされているため、操作に失敗しました。」と表示され、アプリを更新できない"
weight: 7000
aliases:
  - "/ja/id/040294"
layout: "@/layouts/PageLayout.astro"
---

import Enabled from "@/components/Enabled.astro";
import Heading from "@/components/Heading.astro";
import Reference from "@/components/Reference.astro";


アプリの設定を更新する際などに、「データベースがロックされているため、操作に失敗しました。時間をおいて再度お試しください。」というエラーが表示される場合があります。  
このエラーが表示された場合は、時間をおいてから操作をやり直してください。また、アプリの設定を更新する時間帯を、夜間などほかのユーザーが操作しない時間帯にすることもご検討ください。  

<Heading id="general_database_locked_10">参考：エラーの回避方法</Heading>

レコード数やフィールド数、アクセス権の設定数が非常に多いアプリでは、アプリの更新処理に時間がかかり、エラーが発生しやすくなる場合があります。該当のアプリだけでなく、そのほかのアプリでエラーが発生することにもつながります。  
エラー発生を回避するために、次の対応をご検討ください。  

* ほかのユーザーが操作しない時間帯にアプリの設定更新を行う  
<br />

* アプリのレコード数を減らす  
  レコード数が多くなった場合は、アプリを分割することをご検討ください。  
<br />

* アプリのフィールド数を減らす  
  フィールドを削除すると、そのフィールドに登録されたデータもすべて削除されます。レコードデータを書き出してバックアップを取得のうえ、フィールドを削除することをご検討ください。  
  参考：[ファイルにデータを書き出す](/k/ja/id/040452.html)  
<br />

* 選択系フィールド（ドロップダウンなど）の選択肢を減らす  
  選択肢の多いフィールドをアプリに配置している場合は、選択肢を減らすことができないか、設定の見直しをご検討ください。  
  参考：選択系フィールドを配置するかわりに、選択肢を管理するマスターアプリを別途作成したうえで、ルックアップフィールドで選択肢の値を取得する方法もあります。  
  [ルックアップを設定する](/k/ja/id/040547.html)  
<br />

* アクセス権の設定数を減らす  
  条件をまとめることや、不要なアクセス権を削除することをご検討ください。  
<br />

* アクセス権を持つユーザー／組織／グループの数を減らす  
  複数のユーザーを条件に設定している場合は、グループや組織でまとめることができないか、設定の見直しをご検討ください。  

<Enabled regions={["JP"]}>
<Reference>
レコード数やフィールド数、アクセス権の設定数の多いアプリでは、アプリ内における「アクセス権の事前評価」に時間がかかり、エラーが発生しやすくなります。「アクセス権の事前評価」の詳細は、次のページで説明しています。  
[アクセス権の事前評価とアプリの更新時間について](https://cybozu.dev/ja/id/256da98745225664b6f7b38b/)（日本語のみ）
</Reference>

</Enabled>
