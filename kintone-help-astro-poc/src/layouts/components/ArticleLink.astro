---
import { env } from "@/lib/env";
import Wovn from "@/components/Wovn.astro";

interface Props {
  aliases: string[];
}

const { aliases } = Astro.props;

// 表示条件をチェック（idSearchはenvから直接取得）
if (!env.idSearch || aliases.length === 0) {
  return null;
}

// エイリアスから最初の要素を取得
const alias = aliases[0] || "";

// TODO: AnchorLink2.astro のコピー用のリンクとほぼ同じ内容なので、共通化する
---

{
  alias && (
    <>
      <button
        class="id-link-button id-link-button-title"
        title="固定リンクをコピーします"
        data-idpath={alias}
        tabindex="0"
        aria-owns="message-aid"
      >
        <i class="fas fa-link" aria-hidden="true" />
      </button>
      <div id="message-aid" class="id-link-message">
        <Wovn>固定リンクがコピーされました</Wovn>
      </div>
    </>
  )
}
