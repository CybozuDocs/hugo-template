---
import { env } from "@/lib/env";
import TreeNavStaticMenu from './TreeNavStaticMenu.astro';
import type { BaseProps } from './types';

interface Props extends BaseProps {}

const { page } = Astro.props;

const entries = env.siteHomeSections || [];
const target = page;

// 重み順にソート
const sortedEntries = entries.sort((a: any, b: any) => (a.weight || 0) - (b.weight || 0));
---

<nav class="static_tree" tabindex="0">
  <ul>
    {sortedEntries.map((entry: any) => (
      <TreeNavStaticMenu curnode={entry} target={target} />
    ))}
  </ul>
</nav>