---
import Wovn from "@/components/Wovn.astro";

interface Props {
  data: string[];
}

const { data } = Astro.props;

const key = data[0];
const bgColor = data[1];
const fontawesomeIcon = data[2];
const iconColor = data[3];
const title = data[4];
const text = data[5];

// markdownify相当の処理（簡易実装）
const processMarkdown = (text: string) => {
  return text; // TODO: マークダウン処理の実装
};
---

<aside
  class={`announcement-banner ${key}`}
  id={`announcement-banner-${key}`}
  style={`display: none;${bgColor ? `background-color: ${bgColor};` : ""}`}
>
  <div class="announcement-banner-wrapper">
    <div class="announcement-banner-icon">
      <i
        class={fontawesomeIcon}
        style={iconColor ? `color: ${iconColor};` : ""}
        aria-hidden="true"></i>
    </div>
    <div class="announcement-banner-content">
      <div class="announcement-banner-content-content">
        {title && <div class="announcement-banner-content-title">{title}</div>}
        <div
          class="announcement-banner-content-description"
          set:html={processMarkdown(text)}
        />
      </div>
      <div class="announcement-banner-content-button">
        <button
          type="submit"
          id={`announcement-${key}`}
          class="announcement-banner-content-button-close"
          title="i18n__todo__Announcement_button_close"
          tabindex="0"
        >
          <i class="fa fa-times-circle" aria-hidden="true"></i>
          <span><Wovn>i18n__Close</Wovn></span>
        </button>
      </div>
    </div>
  </div>
</aside>
