{{- $id := "" }}
{{- if .Get "id" }}
    {{- $id = .Get "id" }}
{{- end }}
{{- $checkbox := true }}
{{- if .Get "checkbox" }}
    {{- if eq (.Get "checkbox") "false" }}
        {{- $checkbox = false }}
    {{- end }}
{{- end }}
{{- if ne $id "" }}
  <div class="step-wrap" id="{{$id}}">
{{- else }}
  <div class="step-wrap">
{{- end }}
    <div class="step-label">
{{- $number := "" }}
{{- if .Get "number" }}
    {{- $number = .Get "number" }}
        {{- if and (ne $id "") (eq $checkbox true) }}
        <input type="checkbox" class="step-check" id="sbodyid_{{$id}}"></input>
        {{- end }}
        <label for="sbodyid_{{$id}}"><div class="step-num">Step<span>{{$number}}</span></div></label>
{{- end }}
        <div class="step-desc">
{{- $section := "" }}
{{- if .Get "section" }}
    {{- $section = .Get "section" }}
    {{- $section = (partial "applyparams" (dict "target" $section "params" .Site.Params)) }}
    {{- $bc := "" }}
    {{- if .Get "bgcolor" }}
        {{- $bc = printf "%s%s" "background-color:" (.Get "bgcolor") }}
    {{- end }}
        <span class="step-section" style="{{$bc}}">{{$section}}</span>
{{- end }}
{{- $title := "" }}
{{- if .Get "title" }}
    {{- $title = .Get "title" }}
    {{- $title = (partial "applyparams" (dict "target" $title "params" .Site.Params)) }}
    {{- $title | markdownify }}
{{- end }}
        </div>
    </div>
</div>
<div class="step-memo">{{ printf "%s" .Inner | markdownify }}</div>