{{- if in .Params.disabled $.Site.Params.TargetRegion }}
    <meta http-equiv="refresh" content="0; URL=/" />
{{- else }}
    {{- partial "head" . }}
    {{- partial "announcementbanner.html" . -}}
    {{- partial "header" . }}
    <div class="page-pad"></div>
    {{- if eq $.Site.Params.meganav true -}}
        {{ partial "meganav" . }}
    {{- end -}}
    <div class="wrapper">
        <main id="main">
            <div class="home-search">
                <div class="search-wrap">
                    <form
                        id="headerSearchBox_form"
                        action="{{ "" | relURL }}{{ .Lang }}/search_result.html"
                        onsubmit='if(document.getElementById("headerSearchBox_input").value==""){return false;}'
                        role="search"
                    >
                        <div class="searchbox">
                            <input
                                type="search"
                                name="q"
                                id="topSearchBox_input"
                                class="search-input home-search-input"
                                placeholder="{{ i18n "Enter_keywords" }}"
                                aria-label="{{ i18n "search_word" }}"
                            />
                            <button
                                type="submit"
                                name="commit"
                                value=""
                                class="search-submit home-search-submit"
                                data-disable-with=""
                                aria-label="{{ i18n "search" }}"
                            ></button>
                            {{- if ne .Site.Params.google_search true }}
                                <input type="hidden" name="ct" value="{{ .Site.Language.Params.search_all }}" />
                            {{- end }}
                        </div>
                    </form>
                    <div id="logo_place" class="search-logo"></div>
                </div>
            </div>
            <div class="content-wrap">
                {{- template "content" (dict "icon_main" $.Site.Params.icon_home_main "icon_sub" $.Site.Params.icon_home_sub ) -}}
            </div>
        </main>
    </div>
    {{- partial "footer" . -}}
{{- end -}}
<script type="text/javascript" src="{{ printf "%s" "javascripts/gr6home.js" | relURL }}"></script>
</body>
</html>

{{ define "content" }}
    <div id="content">
        <template v-for="menu in menus" :key="menu.id">
            <section class="home-menu">
                <div class="home-menu-title">
                    <div v-bind:pid="menu.id" class="home-menu-maintitle">
                        <div
                            class="home-menu-maintitle-img"
                            style="background-image: url('{{ .icon_main | relURL }}')"
                        ></div>
                        <h2 class="home-menu-maintitle-text">[[menu.name]]</h2>
                    </div>
                    <div v-if="menu.sub" class="home-menu-subtitle">
                        <div
                            class="home-menu-subtitle-img"
                            style="background-image: url('{{ .icon_sub | relURL }}')"
                        ></div>
                        <div class="home-menu-subtitle-text">
                            <a v-bind:href="menu.sub.link_href">[[menu.sub.title]]</a>
                        </div>
                    </div>
                </div>
                <ul class="home-menu-list">
                    <li v-for="item in menu.items" :key="item.title" class="home-menu-item">
                        <menu-card :type="menu.type" :admin="menu.admin" :item="item"></menu-card>
                    </li>
                </ul>
            </section>
        </template>
    </div>
{{ end }}
