    <header class="header">
        <div class="wrapper">
        {{- $langlen := len $.AllTranslations }}
        {{- $baselang := "" }}
        {{- if ne $langlen 0 }}
            {{- $baselang = printf "%s/" $.Lang }}
        {{- end }}
            <a class="logo-link" href="{{ $.Site.BaseURL }}{{$baselang}}">
                <div class="logo-wrap">
                    {{- with .Site.Params.logo }}
                    <div><img class="logo-img" src="{{ $.Site.BaseURL }}{{.}}" aria-hidden="true"></div>
                    {{- end }}
                    <div class="logo-product">{{ $.Scratch.Get "sitename"}}</div>
                    <div class="logo-title">{{$.Site.Params.help}}</div>
                </div>
            </a>

        {{- $disp_sbox := true }}
        {{- if eq .Params.type "search_result" }}
            {{- $disp_sbox = false }}
        {{- else if and (ne $.Site.Params.meganav true) .IsHome }}
            {{- $disp_sbox = false }}
        {{- end }}

        {{- if eq $disp_sbox true }}
            <div class="search-wrap">
                <form id="headerSearchBox_form" action="{{ "" | relURL }}{{.Lang}}/search_result.html" onsubmit='if(document.getElementById("headerSearchBox_input").value==""){return false;}' role="search" >
                    <div class="searchbox">
                        <input type="search" name="q" id="headerSearchBox_input" class="search-input" role="searchbox" aria-label='{{i18n "search_word"}}'>
                        <button type="submit" name="commit" value="" class="search-submit" data-disable-with="" aria-label='{{i18n "search"}}'></button>
                {{- if ne .Site.Params.google_search true }}
                        <input type="hidden" name="ct" value="{{ .Site.Language.Params.search_all }}">
                {{- end }}
                    </div>
                </form>
            </div>
            {{- if eq .Site.Params.google_search true }}
                {{- $glang := $.Site.Language.Lang}}
                {{- if eq $glang "zh" }}
                    {{- $glang = "zh-CN" }}
                {{- else if eq $glang "zh-tw" }}
                    {{- $glang = "zh-TW" }}
                {{- end }}
            <script src="https://www.gstatic.com/prose/brand.js" targetId="headerSearchBox_input" hl="{{$glang}}"></script>
            {{- end }}
        {{- end }}

        {{- if and .IsTranslated (eq .Site.Params.langSelector true) }}
          {{ partial "langselector" . }}
        {{- end}}
        </div>
    </header>